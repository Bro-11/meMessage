<title>meMessage</title><link rel=icon href=data:image/png;base64,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><center><h1 id=title>Loading...</h1></center><div id=messages></div><div id=chats></div><input id=type placeholder="new meMessage..."maxlength=200><button id=sendBtn onclick=send()><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAAclBMVEUAAAAVFRUVFRUBAQEAAAELCwsAAAEBAQIAAAAAAAABAQEBAgMAAAABAQEBAQEBAQIBAQEAAAAAAAAAAAEAAAAAAAEEBQUFBQgAAAABAQEBAQEAAQEBAQEBAQIDAwQCAgICAgIAAAACAgIEBAgAAAAAAACDMbP7AAAAJXRSTlMACQfe1gzmnGkEqKB68s/Kw7WwlYR2Ri8V+/j39c/Aim9oZj4S4HOyaQAAALlJREFUOMvdz8cWwiAUhOEhxZhmiWn2Ou//iiqHA0KElSu/1Sz+Q27gGu4Ie5xIjgiIZnwT8Eso1fBaUJkFinATJfywE5gQMW0pXDFdcBypeO9Z8YvELcLNkh6xCvKYXtvc/ItP7XylonK27rlQa0ElbamtYXYGk2BDzSQNTBIBhUmu+j07QaN2gTxTw01QyrlPAVHKO6aJvOcwytlVN9iJgNRXXQ7DSbQ/SdKfvAK/jFKJgGH+0sPyBNKAR2rwJ+2SAAAAAElFTkSuQmCC"width=17px height=17px style="filter:invert(100%) brightness(50%)"></button><button id=nameBtn onclick=changeName()>Change Chat Name</button><script>"use strict";var url="https://retoolapi.dev/09OX6R/messages/5",max=0;localStorage.meMsgUser&&"null"!=localStorage.meMsgUser||(localStorage.meMsgUser=prompt("Enter your first name...  (This is your display username, you cannot change it once it is set!)"),window.location.reload());var passes,username=localStorage.meMsgUser,chatDiv=document.querySelector("#chats");setTimeout((e=>{for(e=1;e<=149;e++){let t=document.createElement("button");t.setAttribute("number",e),t.onclick=e=>{promptEntering(e.target.getAttribute("number"))},t.classList.add("chatbtn"),t.innerText=passes.names.toString().split(",")[e-1],chatDiv.appendChild(t)}}),1300);var msg={messages:{}},O={};async function api(e="get",t={}){"put"==e?await fetch(url,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>O=e)):"get"==e&&await fetch(url,{method:"GET"}).then((e=>e.json())).then((e=>O=e)),"add"==e&&(api("put",O=addMessage(t)),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})),msg=O}async function updatePasses(){await fetch("https://retoolapi.dev/09OX6R/messages/150",{method:"GET"}).then((e=>e.json())).then((e=>passes=e))}function promptEntering(e){if("yes"!==localStorage["enteredChat"+e]){let t,s=passes.passwords.toString().split(",")[e-1];t=""==!s?btoa(prompt("Enter password...")):"",s==t&&(url="https://retoolapi.dev/09OX6R/messages/"+e,localStorage["enteredChat"+e]="yes"),console.log(passes[e-1],e-1),console.log(t)}else url="https://retoolapi.dev/09OX6R/messages/"+e}function addMessage(e,t=msg){"object"==typeof t&&null!==t&&t.messages||(console.error("Target object for adding message is invalid, returning default structure."),t={messages:{}});var s=Object.keys(t.messages);let n=0;for(const e of s)(s=parseInt(e.substring(1)))>n&&(n=s);return{...t,messages:{..."object"==typeof t.messages&&null!==t.messages?t.messages:{},[`m${n+1}`]:e}}}const updatedMessages={messages:{m1:{sender:{user:"Server",time:"0:00 AM"},message:"Chat reset by server admin"}}};async function reset(){let e="by Google Gemini;by ChatGPT;because the devs broke smth;because geese broke into your house;becuase the APs found you;because your computer got isolated for going on furry dating websites;by the Hollow Knight;by Hornet;by Jeffrey Epstein;because Nintendo's suing us twin ü•Ä;by a flock of ferocious furry femboys;because a wild NullReferenceException appeared;because your CPU ran out of elixir;because nobody would join Jarred in Kart Bros;by \"Uncaught TypeError: Cannot read properties of undefined (reading 'reset')\";by sneaky golem in the pocket;by Clippy;by evo skelly nike pro;bc ur chopped twin ü•Äüò≠üò≠üôè".split(";");updatedMessages.messages.m1.message="Chat reset "+e[Math.floor(Math.random()*e.length)],await api("put",updatedMessages)}async function resetAll(){for(var e=123;e<150;e++)url="https://retoolapi.dev/09OX6R/messages/"+e,await reset()}function getTime(){var e=new Date;const t=e.getHours();return`${t%12||12}:${e=e.getMinutes().toString().padStart(2,"0")} ${t>=12?"PM":"AM"}`}function send(){if(""!=document.querySelector("input").value){api("add",{sender:{user:[username],time:[getTime()]},message:[document.querySelector("input").value]}),document.querySelector("input").value="";let e=document.querySelector("#sendBtn");e.style.background="#262529",e.querySelector("img").style.filter="invert(100%) brightness(50%)",e.style.cursor="not-allowed",setTimeout((()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),1100)}}var m;async function changeName(){var e=Number(url.split("messages/")[1]),t=prompt("Enter new chat name...  (Max length 16 characters, click cancel or press escape to return)");if(null!=t&&""!=t){t=t.substring(0,16),console.log(t);let s=passes.names.toString().split(",");s[e-1]=t,console.log(s),e={names:[s],passwords:[passes.passwords]},console.log(e),t=url,url="https://retoolapi.dev/09OX6R/messages/150",await api("put",e),url=t,location.reload()}}function edit(e,t,s){let n=msg.messages["m"+e];"all"==t&&(n=s),"message"==t&&(n.message=s),"time"==t&&(n.sender.time=s),"user"==t&&(n.sender.user=s),"reactions"==t&&(n.reactions=s),msg.messages["m"+e]=n,api("put",msg)}function updateTexts(){if(msg&&msg.messages){var e=window.scrollY,t=parseInt(url.split("messages/")[1]),s=document.getElementById("chats");for(document.querySelector("h1").innerText=s.querySelectorAll("button")[t-1].innerText,document.querySelector("#messages").innerHTML="",t=0;t<Object.keys(msg.messages).length;t++){(s=document.createElement("div")).____MID=t+1;let e=msg.messages["m"+(t+1)];if(s.style=`\n    position: absolute;\n    top: ${70*t+100}px;\n    ${e.sender.user==username?"right: 50px;":"left: 130px;"}\n    background: ${e.sender.user==username?"#1584ff":"#262529"};\n    color: white;\n    height: 40px;\n    border: 1px solid black;\n    display: inline-block;\n    min-width: 35px;\n    max-width: 75%;\n    overflow-wrap: break-word;\n    cursor: default;\n  `,s.oncontextmenu=t=>{try{e=msg.messages["m"+t.target.____MID].sender}catch{return}t.preventDefault();var s=document.createElement("div");s.style="\n      position: fixed;\n      bottom: 20px;\n      height: 40px;\n      left: 140px;\n      width: calc(100% - 225px);\n      border-radius: 12px;\n      background: #262529;\n      border: 1px solid #7c7c7c;\n      color: white;\n      z-index: 10001;\n      padding-left: 8px;\n      \n    ",document.body.appendChild(s);var n=document.createElement("div");n.addEventListener("click",(()=>{document.body.removeChild(s)})),n.style="\n    position: absolute;\n    left: -10000px;\n    top: -10000px;\n    width: 30000px;\n    height: 30000px;\n    background: #0008;\n    z-index: -100;\n    ",s.appendChild(n),msg.messages["m"+t.target.____MID].sender.user==username&&((n=document.createElement("button")).onclick=e=>{null!=(e=prompt("Enter edited message",msg.messages["m"+t.target.____MID].message))&&""!=e.trim()&&(edit(t.target.____MID,"message",e),document.body.removeChild(s))},n.classList.add("editBtn"),n.innerText="Edit Message",s.appendChild(n));var o="‚ù§Ô∏è üòÇ üëç üëé ‚ùï ‚ùî üêê üòÆ üò° üòù ü§ë ü§î üò≠ ü•Ä üíÄ ‚òπÔ∏è üî• üéâ üôè üñï ü´¶ ü•∑ üëØ‚Äç‚ôÄÔ∏è ü§π‚Äç‚ôÇÔ∏è üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® ü¶≤ üçÜ üçí üßä üïã üåà ‚ö° ‚õÑ üß¢ üìé".split(" ");const r=username,a=msg.messages["m"+t.target.____MID];n=a.reactions?a.reactions[r]:void 0;for(const e of o)(o=document.createElement("button")).innerText=e,o.classList.add("reactBtn"),n===e&&o.classList.add("reactSelected"),o.onclick=n=>{a.reactions||(a.reactions={}),a.reactions[r]===e?delete a.reactions[r]:a.reactions[r]=e,edit(t.target.____MID,"reactions",a.reactions),document.body.removeChild(s)},s.appendChild(o),document.onkeydown=e=>"Escape"==e.key?document.body.removeChild(s):0},s.innerText=e.message,document.querySelector("#messages").appendChild(s),!e.sender.user.includes(username)){var n=document.createElement("span");n.innerText=e.sender.user+", "+e.sender.time,n.style="\n      position: absolute;\n      font-size: 9px;\n      top: -10px;\n      left: 5px;\n      white-space: nowrap;\n      z-index: 9000000000000000;\n    ",s.appendChild(n)}if(e.reactions&&Object.keys(e.reactions).length>0){let r="";for(var o in msg.messages["m"+(t+1)].reactions)r=o==username?r+" <span class='myReact'>"+msg.messages["m"+(t+1)].reactions[o]+"</span>":r+" "+msg.messages["m"+(t+1)].reactions[o];(n=document.createElement("span")).innerHTML=r,n.style=`\n      position: absolute;\n      ${e.sender.user==username?"right":"left"}: ${s.offsetWidth-7.5}px; \n      white-space: nowrap;\n      top: -10px;\n      background: #262529;\n      border-radius: 9px;\n      border: 1px solid white;\n      padding: 1px 4px; /* Added padding for better appearance */\n      `,s.appendChild(n)}}(o=document.createElement("div")).style=`\n    position: absolute;\n    top: ${70*Object.keys(msg.messages).length+100}px;\n    width: 70%;\n    height: 40px;\n    border: none;\n  `,document.querySelector("#messages").appendChild(o),window.scrollTo({top:e})}}document.onkeypress=e=>{"Enter"==e.key&&send()},fetch("https://retoolapi.dev/09OX6R/messages/1",{method:"GET"}).then((e=>e.json())).then((e=>m=e.messages)),fetch(url).then((e=>e.json())).then((e=>max=Object.keys(e.messages).length)),setInterval((e=>{e=document.querySelector("#sendBtn"),""==document.querySelector("input").value?(e.style.background="#262529",e.querySelector("img").style.filter="invert(100%) brightness(50%)",e.style.cursor="not-allowed"):(e.style.background="#1584ff",e.querySelector("img").style.filter="invert(100%) brightness(100%)",e.style.cursor="pointer")}),20),api(),setInterval(api,1e3),setTimeout((e=>{setInterval(updateTexts,1e3)}),1e3),setInterval(updatePasses,1e3)</script><style>input#type{position:fixed;bottom:20px;height:40px;left:140px;width:calc(100% - 205px);border-radius:12px;background:#262529;border:1px solid #7c7c7c;color:#fff;padding-left:8px}.editBtn{position:absolute;top:-30px;left:8.3px;background:#262529;color:#fff;border:1px solid #7c7c7c;border-radius:7px;height:auto;font-size:16px;padding:5px 5px 5px 5px;cursor:pointer}.editBtn:hover{background:#323538}h1{background:#181818;padding:6px 10px 6px 10px;border-radius:10px;display:inline-block;height:37px;border:1px solid #282828;cursor:default}button.reactBtn{width:33px;height:33px;text-align:center;background:#262529;border-radius:9px;border:1px solid #7c7c7c;cursor:pointer;padding:0 4px 0 4px;z-index:10000001;margin-right:4px}button.reactBtn:hover{background:#363539}.reactSelected{background:#1584ff!important}button#nameBtn{position:fixed;top:10px;right:10px;color:#fff;background:#000;border:1px solid #fff;border-radius:6px}button#nameBtn:hover{background:#282828;cursor:pointer}button.chatbtn{display:inline-block;width:75px;height:auto;color:#fff;background:#000;cursor:pointer;font-size:12px;border:1px solid #282828;border-radius:6px;padding:3px 0 3px 0;margin:0 0 4px 0;white-space:normal;word-wrap:break-word;overflow-wrap:break-word}button.chatbtn:hover{background:#222}div#chats{position:fixed;left:0;top:0;border-top:none;border-left:none;border-bottom:none;border-right:5px solid gray;border-radius:0;width:100px;height:100%;overflow-y:scroll}button#sendBtn{position:fixed;bottom:20px;height:40px;right:10px;width:40px;border:1px solid #7c7c7c;border-radius:121px;background:#262529;color:#666;transition:.2s;cursor:default;font-size:17px;padding-top:5px}span.myReact{background:#1584ff;border-radius:5px;display:inline-block;height:21px}.nameplated{position:relative;padding-top:15px}.nameplated::after{position:absolute;z-index:100;left:5px;top:-15px;background-color:#333;color:#fff;padding:1px 5px;border-radius:4px;font-size:10px;white-space:nowrap}body{background:#000;color:#fff}*{font-family:Arial}div{padding:8px;border-radius:10px;--nameplateText:""}</style>